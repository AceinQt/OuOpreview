#home-screen {
    background-size: cover;
    background-position: center;
    transition: background-image 0.5s ease-in-out;
    padding: 45px 5px 25px;
    /* New styles for swipe functionality */
    flex-direction: column;
    overflow: hidden;
    /* Hide overflow for the swiper */
}

.home-screen-swiper {
    display: flex;
    width: 200%;
    /* Two pages */
    flex: 1;
    overflow: hidden;
    transition: transform 0.4s ease-in-out;
}

.home-screen-page {
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
}

.page-indicator {
    position: absolute;
    bottom: 160px;
    /* Adjust based on dock height */
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
}

.page-indicator .dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: rgba(0, 0, 0, 0.25);
    /* 浅灰色 */
    transition: background-color 0.3s;
}

.page-indicator .dot.active {
    background-color: rgba(0, 0, 0, 0.374);
    /* 深灰色 */
}

#home-screen.day-mode .satellite-oval,
#home-screen.day-mode .widget-time,
#home-screen.day-mode .widget-battery,
#home-screen.day-mode .widget-signature,
#home-screen.day-mode .app-icon .app-name {
    color: var(--white-color);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);

}

#home-screen.day-mode .app-icon {
    color: rgba(255, 255, 255, 0.9);
}

#home-screen.day-mode .widget-date {
    color: var(--white-color);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
    /*border-top: 1.5px dashed  var(--white-color);*/
}

#home-screen.day-mode .ins-widget-divider span {
    color: var(--white-color);
}

#home-screen.day-mode .ins-widget-divider {
    border-bottom: 1.5px dashed var(--white-color);

}

#home-screen.day-mode .central-circle {
    border: 3px solid white;
    /* 头像边框 */
}

#home-screen.day-mode .ins-widget-avatar {
    border: 2px solid white;
    /* 头像边框 */

}

#home-screen.day-mode .widget-battery svg {
    filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.2));
}

.app-grid {
    width: 100%;
    padding: 15px;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(4, 1fr);
    gap: 15px;
    justify-content: center;
    align-content: flex-start;
    margin-top: 20px;
    height: calc(100% - 280px);
    /* Adjust height to fit better */
}

.app-grid-widget-container {
    grid-column: span 2;
    grid-row: span 2;
    display: flex;
    justify-content: center;
    align-items: flex-start;
}

.app-grid-widget {
    width: 85%;
    height: 85%;
    background-color: transparent;
    border-radius: 30px;
    padding: 0;
    /* Remove padding */
    box-sizing: border-box;
    border: none;
    /* Remove border */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 0;
    /* Remove gap */
    transition: transform 0.2s ease;
}

.app-grid-widget:hover {
    transform: none;
    /* Remove hover effect */
}

.app-grid-placeholder-widget {
    grid-column: 3 / 5;
    grid-row: 3 / 5;
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 18px;
    border: 2px dashed rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    color: rgba(0, 0, 0, 0.4);
}

.widget-top-bar {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 8px;
    color: rgba(0, 0, 0, 0.4);
}

.widget-status-text {
    font-size: 14px;
    font-weight: 600;
}

.widget-icons {
    display: flex;
    align-items: center;
    gap: 8px;
}

.widget-icons svg {
    width: 18px;
    height: 18px;
    fill: rgba(0, 0, 0, 0.4);
}

.widget-main-image-container {
    position: relative;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.widget-main-image {
    width: 85%;
    padding-bottom: 85%;
    /* Creates a square aspect ratio */
    background-size: cover;
    background-position: center;
    border-radius: 18px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

.widget-speech-bubble {
    position: absolute;
    top: 10px;
    right: 0px;
    background-color: #fff;
    padding: 5px 10px;
    border-radius: 12px;
    font-size: 12px;
    color: #555;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.widget-paw-button {
    background-color: #fff;
    border-radius: 20px;
    padding: 6px 12px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    display: inline-flex;
    justify-content: center;
    align-items: center;
}

.widget-paw-button img {
    height: 20px;
    width: auto;
}

.dock {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
    background-color: transparent;
    backdrop-filter: none;
    border-radius: var(--border-radius);
    margin: 0 20px;
    min-height: 80px;
    gap: 15px;
    flex-shrink: 0;
}

.app-icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    color: rgba(0, 0, 0, 0.9);
}

.icon-img {
    width: 54px;
    height: 54px;
    border-radius: 15px;
    margin-bottom: 6px;
    filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.2));
    transition: transform 0.2s ease;
    object-fit: cover;
}

.app-icon:hover .icon-img {
    transform: translateY(-5px);
}

.app-icon .app-name {
    font-size: 12px;
    color: var(--text-color);
    font-weight: 500;
    font-family: 'ZCOOL KuaiLe', cursive;
}

/* 主页自定义小部件样式 (*/
.home-widget-container {
    position: relative;
    width: 230px;
    /* 增加了容器宽度，给加宽后的小椭圆留出空间 */
    height: 150px;
    margin: 0px auto 30px;
    /* 稍微增加顶部距离 */
    display: flex;
    justify-content: center;
    align-items: center;
}

.central-circle {
    width: 105px;
    height: 105px;
    border-radius: 50%;
    margin-left: -150px;
    margin-top: 82px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    background-size: cover;
    background-position: center;
    transition: transform 0.3s ease;
}

.central-circle:hover {
    transform: scale(1.05);
}

/* --- 电池小部件的样式 --- */
.widget-battery {
    color: var(--text-color);
    /* 字体颜色，和日期保持一致 */
    font-family: var(--font-family);
    font-size: 15px;
    /* 字体大小，和日期保持一致 */

    position: absolute;
    /* 绝对定位 */
    display: flex;
    /* 使用flex布局让图标和文字对齐 */
    align-items: center;
    /* 垂直居中对齐 */

    /* 电池的位置 */
    /* 我们把它放在右下角椭圆的下面，和日期对称 */
    top: 0;
    /* 高低 */
    right: -50px;
    /* 左右 */
}

/* 电池图标和文字之间的间距 */
.widget-battery svg {
    margin-top: -0.5px;
    margin-right: 5px;

}

/* --- 时间和日期的样式 --- */

.widget-time {
    color: var(--text-color);
    /* 字体颜色 */
    font-family: 'Varela Round', sans-serif;
    text-align: left;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    /* 加一点点阴影，更有质感 */
    position: absolute;
    margin-left: 136px;
    /* 先把它推到容器中间 */
    bottom: 30px;
    /* 数字越大越往上，越小越往下，甚至可以是负数哦 */
    /* 核心魔法：强制开启等宽数字 */
    font-variant-numeric: tabular-nums;
    letter-spacing: 1px;
    /* 稍微缩紧一点点间距会更好看 */
    /* 如果某个浏览器不支持，可以加这个备用 */
    font-feature-settings: "tnum";
    /* 时间的字体大小 */
    font-size: 45px;
    font-weight: 600;
    /* 字体粗细 */
}

.widget-signature {
    color: var(--text-color);
    font-family: 'ZCOOL KuaiLe', cursive;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    position: absolute;
    margin-left: 134px;
    bottom: -18px;
    /* Position it below the time widget */
    font-size: 13px;
    font-weight: 500;
    width: 90%;
    max-width: 160px;
    background-color: transparent;
    border: none;
    outline: none;
    text-align: center;
    padding: 5px;
    border-radius: 8px;
    transition: background-color 0.3s;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.widget-signature:focus {
    background-color: rgba(0, 0, 0, 0.05);
    white-space: normal;
    overflow: visible;
}

.widget-signature:empty::before {
    content: attr(placeholder);
    color: #999;
    pointer-events: none;
}

#home-screen.day-mode .widget-signature:focus {
    background-color: rgba(255, 255, 255, 0.1);
}

#home-screen.day-mode .widget-signature:empty::before {
    color: rgba(255, 255, 255, 0.7);
}

.widget-date {
    color: var(--text-color);
    /* 日期的颜色，淡一点 */
    font-family: 'ZCOOL KuaiLe', cursive;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);

    position: absolute;
    /* 同样用绝对定位 */
    width: 140px;
    text-align: center;
    /* 文字居中对齐 */

    /* 日期的位置 */
    /* 我们把它放在左下角椭圆的下面 */
    margin-left: 135px;
    margin-top: 110px;
    /*左右 */

    /* 这个是日期的字体大小 */
    font-size: 15px;
    /*border-top: 1.5px dashed  var(--text-color);*/
}

/* --- New INS-Style Widget --- */
.ins-widget {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    align-items: center;
    padding: 20px 0 10px 10px;
    /* Add some padding */
    gap: 5px;
    box-sizing: border-box;
}

.ins-widget-row {
    display: flex;
    width: 100%;
    align-items: center;
}

.ins-widget-row.user {
    justify-content: flex-start;
}

.ins-widget-row.character {
    justify-content: flex-end;
}

.ins-widget-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
    flex-shrink: 0;

    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    /* 头像阴影 */
}

.ins-widget-bubble {
    position: relative;
    background-color: #fff;
    border-radius: 15px;
    padding: 6px 10px;
    font-size: 12px;
    /* 气泡字体大小 */
    color: #333;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.07);
    max-width: 70%;
}

.ins-widget-row.user .ins-widget-bubble {
    margin-left: 12px;
}

.ins-widget-row.character .ins-widget-bubble {
    margin-right: 12px;
}

/* Bubble tail */
.ins-widget-bubble::after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-style: solid;
}

/* User bubble tail (left) */
.ins-widget-row.user .ins-widget-bubble::after {
    top: 50%;
    left: -5.5px;
    /* 尾巴位置 */
    margin-top: -4px;
    /* 尾巴位置 */
    border-width: 4px 6px 4px 0;
    /* 尾巴大小 */
    border-color: transparent #fff transparent transparent;
}

/* Character bubble tail (right) */
.ins-widget-row.character .ins-widget-bubble::after {
    top: 50%;
    right: -5.5px;
    /* 尾巴位置 */
    margin-top: -6px;
    /* 尾巴位置 */
    border-width: 6px 0 6px 8px;
    /* 尾巴大小 */
    border-color: transparent transparent transparent #fff;
}

.ins-widget-divider {
    width: 90%;
    text-align: center;
    border-bottom: 1.5px dashed var(--text-color);
    line-height: 0.1em;
    margin: 12px 0;
}

.ins-widget-divider span {
    background: transparent;
    padding: 0 10px;
    color: var(--text-color);
    font-size: 14px;
    font-weight: bold;
}